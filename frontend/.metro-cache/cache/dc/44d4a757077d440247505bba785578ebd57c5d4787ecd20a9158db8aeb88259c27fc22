{"dependencies":[{"name":"./utils","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":0,"index":441},"end":{"line":10,"column":30,"index":471}}],"key":"FH4oXkS7WdR5kG0v+Eku8TWcu80="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.pendingThenable = pendingThenable;\n  exports.tryResolveSync = tryResolveSync;\n  var _utils = require(_dependencyMap[0], \"./utils\");\n  /**\n   * Thenable types which matches React's types for promises\n   *\n   * React seemingly uses `.status`, `.value` and `.reason` properties on a promises to optimistically unwrap data from promises\n   *\n   * @see https://github.com/facebook/react/blob/main/packages/shared/ReactTypes.js#L112-L138\n   * @see https://github.com/facebook/react/blob/4f604941569d2e8947ce1460a0b2997e835f37b9/packages/react-debug-tools/src/ReactDebugHooks.js#L224-L227\n   */\n\n  function pendingThenable() {\n    var resolve;\n    var reject;\n    // this could use `Promise.withResolvers()` in the future\n    var thenable = new Promise((_resolve, _reject) => {\n      resolve = _resolve;\n      reject = _reject;\n    });\n    thenable.status = 'pending';\n    thenable.catch(() => {\n      // prevent unhandled rejection errors\n    });\n    function finalize(data) {\n      Object.assign(thenable, data);\n\n      // clear pending props props to avoid calling them twice\n      delete thenable.resolve;\n      delete thenable.reject;\n    }\n    thenable.resolve = value => {\n      finalize({\n        status: 'fulfilled',\n        value\n      });\n      resolve(value);\n    };\n    thenable.reject = reason => {\n      finalize({\n        status: 'rejected',\n        reason\n      });\n      reject(reason);\n    };\n    return thenable;\n  }\n\n  /**\n   * This function takes a Promise-like input and detects whether the data\n   * is synchronously available or not.\n   *\n   * It does not inspect .status, .value or .reason properties of the promise,\n   * as those are not always available, and the .status of React's promises\n   * should not be considered part of the public API.\n   */\n  function tryResolveSync(promise) {\n    var data;\n    promise.then(result => {\n      data = result;\n      return result;\n    }, _utils.noop)\n    // .catch can be unavailable on certain kinds of thenable's\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    ?.catch(_utils.noop);\n    if (data !== undefined) {\n      return {\n        data\n      };\n    }\n    return undefined;\n  }\n});","lineCount":77,"map":[[7,2,10,0],[7,6,10,0,"_utils"],[7,12,10,0],[7,15,10,0,"require"],[7,22,10,0],[7,23,10,0,"_dependencyMap"],[7,37,10,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[17,2,44,7],[17,11,44,16,"pendingThenable"],[17,26,44,31,"pendingThenable"],[17,27,44,31],[17,29,44,57],[18,4,45,2],[18,8,45,6,"resolve"],[18,15,45,36],[19,4,46,2],[19,8,46,6,"reject"],[19,14,46,34],[20,4,47,2],[21,4,48,2],[21,8,48,8,"thenable"],[21,16,48,16],[21,19,48,19],[21,23,48,23,"Promise"],[21,30,48,30],[21,31,48,31],[21,32,48,32,"_resolve"],[21,40,48,40],[21,42,48,42,"_reject"],[21,49,48,49],[21,54,48,54],[22,6,49,4,"resolve"],[22,13,49,11],[22,16,49,14,"_resolve"],[22,24,49,22],[23,6,50,4,"reject"],[23,12,50,10],[23,15,50,13,"_reject"],[23,22,50,20],[24,4,51,2],[24,5,51,3],[24,6,51,26],[25,4,53,2,"thenable"],[25,12,53,10],[25,13,53,11,"status"],[25,19,53,17],[25,22,53,20],[25,31,53,29],[26,4,54,2,"thenable"],[26,12,54,10],[26,13,54,11,"catch"],[26,18,54,16],[26,19,54,17],[26,25,54,23],[27,6,55,4],[28,4,55,4],[28,5,56,3],[28,6,56,4],[29,4,58,2],[29,13,58,11,"finalize"],[29,21,58,19,"finalize"],[29,22,58,20,"data"],[29,26,58,49],[29,28,58,51],[30,6,59,4,"Object"],[30,12,59,10],[30,13,59,11,"assign"],[30,19,59,17],[30,20,59,18,"thenable"],[30,28,59,26],[30,30,59,28,"data"],[30,34,59,32],[30,35,59,33],[32,6,61,4],[33,6,62,4],[33,13,62,12,"thenable"],[33,21,62,20],[33,22,62,53,"resolve"],[33,29,62,60],[34,6,63,4],[34,13,63,12,"thenable"],[34,21,63,20],[34,22,63,53,"reject"],[34,28,63,59],[35,4,64,2],[36,4,66,2,"thenable"],[36,12,66,10],[36,13,66,11,"resolve"],[36,20,66,18],[36,23,66,22,"value"],[36,28,66,27],[36,32,66,32],[37,6,67,4,"finalize"],[37,14,67,12],[37,15,67,13],[38,8,68,6,"status"],[38,14,68,12],[38,16,68,14],[38,27,68,25],[39,8,69,6,"value"],[40,6,70,4],[40,7,70,5],[40,8,70,6],[41,6,72,4,"resolve"],[41,13,72,11],[41,14,72,12,"value"],[41,19,72,17],[41,20,72,18],[42,4,73,2],[42,5,73,3],[43,4,74,2,"thenable"],[43,12,74,10],[43,13,74,11,"reject"],[43,19,74,17],[43,22,74,21,"reason"],[43,28,74,27],[43,32,74,32],[44,6,75,4,"finalize"],[44,14,75,12],[44,15,75,13],[45,8,76,6,"status"],[45,14,76,12],[45,16,76,14],[45,26,76,24],[46,8,77,6,"reason"],[47,6,78,4],[47,7,78,5],[47,8,78,6],[48,6,80,4,"reject"],[48,12,80,10],[48,13,80,11,"reason"],[48,19,80,17],[48,20,80,18],[49,4,81,2],[49,5,81,3],[50,4,83,2],[50,11,83,9,"thenable"],[50,19,83,17],[51,2,84,0],[53,2,86,0],[54,0,87,0],[55,0,88,0],[56,0,89,0],[57,0,90,0],[58,0,91,0],[59,0,92,0],[60,0,93,0],[61,2,94,7],[61,11,94,16,"tryResolveSync"],[61,25,94,30,"tryResolveSync"],[61,26,94,31,"promise"],[61,33,94,76],[61,35,94,78],[62,4,95,2],[62,8,95,6,"data"],[62,12,95,19],[63,4,97,2,"promise"],[63,11,97,9],[63,12,98,5,"then"],[63,16,98,9],[63,17,98,11,"result"],[63,23,98,17],[63,27,98,22],[64,6,99,6,"data"],[64,10,99,10],[64,13,99,13,"result"],[64,19,99,19],[65,6,100,6],[65,13,100,13,"result"],[65,19,100,19],[66,4,101,4],[66,5,101,5],[66,7,101,7,"noop"],[66,18,101,11],[67,4,102,4],[68,4,103,4],[69,4,103,4],[69,6,104,6,"catch"],[69,11,104,11],[69,12,104,12,"noop"],[69,23,104,16],[69,24,104,17],[70,4,106,2],[70,8,106,6,"data"],[70,12,106,10],[70,17,106,15,"undefined"],[70,26,106,24],[70,28,106,26],[71,6,107,4],[71,13,107,11],[72,8,107,13,"data"],[73,6,107,18],[73,7,107,19],[74,4,108,2],[75,4,110,2],[75,11,110,9,"undefined"],[75,20,110,18],[76,2,111,0],[77,0,111,1],[77,3]],"functionMap":{"names":["<global>","pendingThenable","Promise$argument_0","_catch$argument_0","finalize","resolve","reject","tryResolveSync","promise.then$argument_0"],"mappings":"AAA;OC2C;+BCI;GDG;iBEG;GFE;EGE;GHM;qBIE;GJO;oBKC;GLO;CDG;OOU;UCI;KDG;CPU"}},"type":"js/module"}]}