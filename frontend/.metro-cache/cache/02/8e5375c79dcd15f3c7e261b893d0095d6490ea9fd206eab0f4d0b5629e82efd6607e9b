{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"rcd0dMwf8BS2g+8U1wyhIOxtYEo="}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"4pxOr+e+5cSZAdeEKxSt3F7LoKY="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"EDnOjopp9yNVawSzfBRsy2dq5dM="}},{"name":"@babel/runtime/helpers/classPrivateFieldLooseBase","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"jMONaMrLKWyW98OXtOcLrGqurmM="}},{"name":"@babel/runtime/helpers/classPrivateFieldLooseKey","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":0,"index":1809}}],"key":"qTmzI90+V4e5n8oYrMtPGytmrV0="}},{"name":"./subscribable","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"JqwYx15lUCREXuo1zzjJI11wnOA="}},{"name":"./utils","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":46},"end":{"line":2,"column":34,"index":80}}],"key":"FH4oXkS7WdR5kG0v+Eku8TWcu80="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.onlineManager = exports.OnlineManager = void 0;\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _inherits2 = _interopRequireDefault(require(_dependencyMap[5], \"@babel/runtime/helpers/inherits\"));\n  var _classPrivateFieldLooseBase2 = _interopRequireDefault(require(_dependencyMap[6], \"@babel/runtime/helpers/classPrivateFieldLooseBase\"));\n  var _classPrivateFieldLooseKey2 = _interopRequireDefault(require(_dependencyMap[7], \"@babel/runtime/helpers/classPrivateFieldLooseKey\"));\n  var _subscribable = require(_dependencyMap[8], \"./subscribable\");\n  var _utils = require(_dependencyMap[9], \"./utils\");\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function () { return !!t; })(); }\n  var _online = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"online\");\n  var _cleanup = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"cleanup\");\n  var _setup = /*#__PURE__*/(0, _classPrivateFieldLooseKey2.default)(\"setup\");\n  var OnlineManager = exports.OnlineManager = /*#__PURE__*/function (_Subscribable) {\n    function OnlineManager() {\n      var _this;\n      (0, _classCallCheck2.default)(this, OnlineManager);\n      _this = _callSuper(this, OnlineManager);\n      Object.defineProperty(_this, _online, {\n        writable: true,\n        value: true\n      });\n      Object.defineProperty(_this, _cleanup, {\n        writable: true,\n        value: void 0\n      });\n      Object.defineProperty(_this, _setup, {\n        writable: true,\n        value: void 0\n      });\n      (0, _classPrivateFieldLooseBase2.default)(_this, _setup)[_setup] = onOnline => {\n        // addEventListener does not exist in React Native, but window does\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n        if (!_utils.isServer && window.addEventListener) {\n          var onlineListener = () => onOnline(true);\n          var offlineListener = () => onOnline(false);\n          // Listen to online\n          window.addEventListener('online', onlineListener, false);\n          window.addEventListener('offline', offlineListener, false);\n          return () => {\n            // Be sure to unsubscribe if a new handler is set\n            window.removeEventListener('online', onlineListener);\n            window.removeEventListener('offline', offlineListener);\n          };\n        }\n        return;\n      };\n      return _this;\n    }\n    (0, _inherits2.default)(OnlineManager, _Subscribable);\n    return (0, _createClass2.default)(OnlineManager, [{\n      key: \"onSubscribe\",\n      value: function onSubscribe() {\n        if (!(0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]) {\n          this.setEventListener((0, _classPrivateFieldLooseBase2.default)(this, _setup)[_setup]);\n        }\n      }\n    }, {\n      key: \"onUnsubscribe\",\n      value: function onUnsubscribe() {\n        if (!this.hasListeners()) {\n          (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]?.();\n          (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup] = undefined;\n        }\n      }\n    }, {\n      key: \"setEventListener\",\n      value: function setEventListener(setup) {\n        (0, _classPrivateFieldLooseBase2.default)(this, _setup)[_setup] = setup;\n        (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup]?.();\n        (0, _classPrivateFieldLooseBase2.default)(this, _cleanup)[_cleanup] = setup(this.setOnline.bind(this));\n      }\n    }, {\n      key: \"setOnline\",\n      value: function setOnline(online) {\n        var changed = (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online] !== online;\n        if (changed) {\n          (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online] = online;\n          this.listeners.forEach(listener => {\n            listener(online);\n          });\n        }\n      }\n    }, {\n      key: \"isOnline\",\n      value: function isOnline() {\n        return (0, _classPrivateFieldLooseBase2.default)(this, _online)[_online];\n      }\n    }]);\n  }(_subscribable.Subscribable);\n  var onlineManager = exports.onlineManager = new OnlineManager();\n});","lineCount":99,"map":[[14,2,1,0],[14,6,1,0,"_subscribable"],[14,19,1,0],[14,22,1,0,"require"],[14,29,1,0],[14,30,1,0,"_dependencyMap"],[14,44,1,0],[15,2,2,0],[15,6,2,0,"_utils"],[15,12,2,0],[15,15,2,0,"require"],[15,22,2,0],[15,23,2,0,"_dependencyMap"],[15,37,2,0],[16,2,2,34],[16,11,2,34,"_callSuper"],[16,22,2,34,"t"],[16,23,2,34],[16,25,2,34,"o"],[16,26,2,34],[16,28,2,34,"e"],[16,29,2,34],[16,40,2,34,"o"],[16,41,2,34],[16,48,2,34,"_getPrototypeOf2"],[16,64,2,34],[16,65,2,34,"default"],[16,72,2,34],[16,74,2,34,"o"],[16,75,2,34],[16,82,2,34,"_possibleConstructorReturn2"],[16,109,2,34],[16,110,2,34,"default"],[16,117,2,34],[16,119,2,34,"t"],[16,120,2,34],[16,122,2,34,"_isNativeReflectConstruct"],[16,147,2,34],[16,152,2,34,"Reflect"],[16,159,2,34],[16,160,2,34,"construct"],[16,169,2,34],[16,170,2,34,"o"],[16,171,2,34],[16,173,2,34,"e"],[16,174,2,34],[16,186,2,34,"_getPrototypeOf2"],[16,202,2,34],[16,203,2,34,"default"],[16,210,2,34],[16,212,2,34,"t"],[16,213,2,34],[16,215,2,34,"constructor"],[16,226,2,34],[16,230,2,34,"o"],[16,231,2,34],[16,232,2,34,"apply"],[16,237,2,34],[16,238,2,34,"t"],[16,239,2,34],[16,241,2,34,"e"],[16,242,2,34],[17,2,2,34],[17,11,2,34,"_isNativeReflectConstruct"],[17,37,2,34],[17,51,2,34,"t"],[17,52,2,34],[17,56,2,34,"Boolean"],[17,63,2,34],[17,64,2,34,"prototype"],[17,73,2,34],[17,74,2,34,"valueOf"],[17,81,2,34],[17,82,2,34,"call"],[17,86,2,34],[17,87,2,34,"Reflect"],[17,94,2,34],[17,95,2,34,"construct"],[17,104,2,34],[17,105,2,34,"Boolean"],[17,112,2,34],[17,145,2,34,"t"],[17,146,2,34],[17,159,2,34,"_isNativeReflectConstruct"],[17,184,2,34],[17,196,2,34,"_isNativeReflectConstruct"],[17,197,2,34],[17,210,2,34,"t"],[17,211,2,34],[18,2,2,34],[18,6,2,34,"_online"],[18,13,2,34],[18,33,2,34,"_classPrivateFieldLooseKey2"],[18,60,2,34],[18,61,2,34,"default"],[18,68,2,34],[19,2,2,34],[19,6,2,34,"_cleanup"],[19,14,2,34],[19,34,2,34,"_classPrivateFieldLooseKey2"],[19,61,2,34],[19,62,2,34,"default"],[19,69,2,34],[20,2,2,34],[20,6,2,34,"_setup"],[20,12,2,34],[20,32,2,34,"_classPrivateFieldLooseKey2"],[20,59,2,34],[20,60,2,34,"default"],[20,67,2,34],[21,2,2,34],[21,6,7,13,"OnlineManager"],[21,19,7,26],[21,22,7,26,"exports"],[21,29,7,26],[21,30,7,26,"OnlineManager"],[21,43,7,26],[21,69,7,26,"_Subscribable"],[21,82,7,26],[22,4,13,2],[22,13,13,2,"OnlineManager"],[22,27,13,2],[22,29,13,16],[23,6,13,16],[23,10,13,16,"_this"],[23,15,13,16],[24,6,13,16],[24,10,13,16,"_classCallCheck2"],[24,26,13,16],[24,27,13,16,"default"],[24,34,13,16],[24,42,13,16,"OnlineManager"],[24,55,13,16],[25,6,14,4,"_this"],[25,11,14,4],[25,14,14,4,"_callSuper"],[25,24,14,4],[25,31,14,4,"OnlineManager"],[25,44,14,4],[26,6,14,11,"Object"],[26,12,14,11],[26,13,14,11,"defineProperty"],[26,27,14,11],[26,28,14,11,"_this"],[26,33,14,11],[26,35,14,11,"_online"],[26,42,14,11],[27,8,14,11,"writable"],[27,16,14,11],[28,8,14,11,"value"],[28,13,14,11],[28,15,8,12],[29,6,8,16],[30,6,8,16,"Object"],[30,12,8,16],[30,13,8,16,"defineProperty"],[30,27,8,16],[30,28,8,16,"_this"],[30,33,8,16],[30,35,8,16,"_cleanup"],[30,43,8,16],[31,8,8,16,"writable"],[31,16,8,16],[32,8,8,16,"value"],[32,13,8,16],[33,6,8,16],[34,6,8,16,"Object"],[34,12,8,16],[34,13,8,16,"defineProperty"],[34,27,8,16],[34,28,8,16,"_this"],[34,33,8,16],[34,35,8,16,"_setup"],[34,41,8,16],[35,8,8,16,"writable"],[35,16,8,16],[36,8,8,16,"value"],[36,13,8,16],[37,6,8,16],[38,6,15,4],[38,10,15,4,"_classPrivateFieldLooseBase2"],[38,38,15,4],[38,39,15,4,"default"],[38,46,15,4],[38,48,15,4,"_this"],[38,53,15,4],[38,55,15,4,"_setup"],[38,61,15,4],[38,63,15,4,"_setup"],[38,69,15,4],[38,73,15,19,"onOnline"],[38,81,15,27],[38,85,15,32],[39,8,16,6],[40,8,17,6],[41,8,18,6],[41,12,18,10],[41,13,18,11,"isServer"],[41,28,18,19],[41,32,18,23,"window"],[41,38,18,29],[41,39,18,30,"addEventListener"],[41,55,18,46],[41,57,18,48],[42,10,19,8],[42,14,19,14,"onlineListener"],[42,28,19,28],[42,31,19,31,"onlineListener"],[42,32,19,31],[42,37,19,37,"onOnline"],[42,45,19,45],[42,46,19,46],[42,50,19,50],[42,51,19,51],[43,10,20,8],[43,14,20,14,"offlineListener"],[43,29,20,29],[43,32,20,32,"offlineListener"],[43,33,20,32],[43,38,20,38,"onOnline"],[43,46,20,46],[43,47,20,47],[43,52,20,52],[43,53,20,53],[44,10,21,8],[45,10,22,8,"window"],[45,16,22,14],[45,17,22,15,"addEventListener"],[45,33,22,31],[45,34,22,32],[45,42,22,40],[45,44,22,42,"onlineListener"],[45,58,22,56],[45,60,22,58],[45,65,22,63],[45,66,22,64],[46,10,23,8,"window"],[46,16,23,14],[46,17,23,15,"addEventListener"],[46,33,23,31],[46,34,23,32],[46,43,23,41],[46,45,23,43,"offlineListener"],[46,60,23,58],[46,62,23,60],[46,67,23,65],[46,68,23,66],[47,10,25,8],[47,17,25,15],[47,23,25,21],[48,12,26,10],[49,12,27,10,"window"],[49,18,27,16],[49,19,27,17,"removeEventListener"],[49,38,27,36],[49,39,27,37],[49,47,27,45],[49,49,27,47,"onlineListener"],[49,63,27,61],[49,64,27,62],[50,12,28,10,"window"],[50,18,28,16],[50,19,28,17,"removeEventListener"],[50,38,28,36],[50,39,28,37],[50,48,28,46],[50,50,28,48,"offlineListener"],[50,65,28,63],[50,66,28,64],[51,10,29,8],[51,11,29,9],[52,8,30,6],[53,8,32,6],[54,6,33,4],[54,7,33,5],[55,6,33,5],[55,13,33,5,"_this"],[55,18,33,5],[56,4,34,2],[57,4,34,3],[57,8,34,3,"_inherits2"],[57,18,34,3],[57,19,34,3,"default"],[57,26,34,3],[57,28,34,3,"OnlineManager"],[57,41,34,3],[57,43,34,3,"_Subscribable"],[57,56,34,3],[58,4,34,3],[58,15,34,3,"_createClass2"],[58,28,34,3],[58,29,34,3,"default"],[58,36,34,3],[58,38,34,3,"OnlineManager"],[58,51,34,3],[59,6,34,3,"key"],[59,9,34,3],[60,6,34,3,"value"],[60,11,34,3],[60,13,36,2],[60,22,36,12,"onSubscribe"],[60,33,36,23,"onSubscribe"],[60,34,36,23],[60,36,36,32],[61,8,37,4],[61,12,37,8],[61,17,37,8,"_classPrivateFieldLooseBase2"],[61,45,37,8],[61,46,37,8,"default"],[61,53,37,8],[61,55,37,9],[61,59,37,13],[61,61,37,13,"_cleanup"],[61,69,37,13],[61,71,37,13,"_cleanup"],[61,79,37,13],[61,80,37,22],[61,82,37,24],[62,10,38,6],[62,14,38,10],[62,15,38,11,"setEventListener"],[62,31,38,27],[62,36,38,27,"_classPrivateFieldLooseBase2"],[62,64,38,27],[62,65,38,27,"default"],[62,72,38,27],[62,74,38,28],[62,78,38,32],[62,80,38,32,"_setup"],[62,86,38,32],[62,88,38,32,"_setup"],[62,94,38,32],[62,95,38,39],[62,96,38,40],[63,8,39,4],[64,6,40,2],[65,4,40,3],[66,6,40,3,"key"],[66,9,40,3],[67,6,40,3,"value"],[67,11,40,3],[67,13,42,2],[67,22,42,12,"onUnsubscribe"],[67,35,42,25,"onUnsubscribe"],[67,36,42,25],[67,38,42,28],[68,8,43,4],[68,12,43,8],[68,13,43,9],[68,17,43,13],[68,18,43,14,"hasListeners"],[68,30,43,26],[68,31,43,27],[68,32,43,28],[68,34,43,30],[69,10,44,6],[69,14,44,6,"_classPrivateFieldLooseBase2"],[69,42,44,6],[69,43,44,6,"default"],[69,50,44,6],[69,56,44,10],[69,58,44,10,"_cleanup"],[69,66,44,10],[69,68,44,10,"_cleanup"],[69,76,44,10],[70,10,45,6],[70,14,45,6,"_classPrivateFieldLooseBase2"],[70,42,45,6],[70,43,45,6,"default"],[70,50,45,6],[70,56,45,10],[70,58,45,10,"_cleanup"],[70,66,45,10],[70,68,45,10,"_cleanup"],[70,76,45,10],[70,80,45,22,"undefined"],[70,89,45,31],[71,8,46,4],[72,6,47,2],[73,4,47,3],[74,6,47,3,"key"],[74,9,47,3],[75,6,47,3,"value"],[75,11,47,3],[75,13,49,2],[75,22,49,2,"setEventListener"],[75,38,49,18,"setEventListener"],[75,39,49,19,"setup"],[75,44,49,33],[75,46,49,41],[76,8,50,4],[76,12,50,4,"_classPrivateFieldLooseBase2"],[76,40,50,4],[76,41,50,4,"default"],[76,48,50,4],[76,54,50,8],[76,56,50,8,"_setup"],[76,62,50,8],[76,64,50,8,"_setup"],[76,70,50,8],[76,74,50,18,"setup"],[76,79,50,23],[77,8,51,4],[77,12,51,4,"_classPrivateFieldLooseBase2"],[77,40,51,4],[77,41,51,4,"default"],[77,48,51,4],[77,54,51,8],[77,56,51,8,"_cleanup"],[77,64,51,8],[77,66,51,8,"_cleanup"],[77,74,51,8],[78,8,52,4],[78,12,52,4,"_classPrivateFieldLooseBase2"],[78,40,52,4],[78,41,52,4,"default"],[78,48,52,4],[78,54,52,8],[78,56,52,8,"_cleanup"],[78,64,52,8],[78,66,52,8,"_cleanup"],[78,74,52,8],[78,78,52,20,"setup"],[78,83,52,25],[78,84,52,26],[78,88,52,30],[78,89,52,31,"setOnline"],[78,98,52,40],[78,99,52,41,"bind"],[78,103,52,45],[78,104,52,46],[78,108,52,50],[78,109,52,51],[78,110,52,52],[79,6,53,2],[80,4,53,3],[81,6,53,3,"key"],[81,9,53,3],[82,6,53,3,"value"],[82,11,53,3],[82,13,55,2],[82,22,55,2,"setOnline"],[82,31,55,11,"setOnline"],[82,32,55,12,"online"],[82,38,55,27],[82,40,55,35],[83,8,56,4],[83,12,56,10,"changed"],[83,19,56,17],[83,22,56,20],[83,26,56,20,"_classPrivateFieldLooseBase2"],[83,54,56,20],[83,55,56,20,"default"],[83,62,56,20],[83,68,56,24],[83,70,56,24,"_online"],[83,77,56,24],[83,79,56,24,"_online"],[83,86,56,24],[83,92,56,37,"online"],[83,98,56,43],[84,8,58,4],[84,12,58,8,"changed"],[84,19,58,15],[84,21,58,17],[85,10,59,6],[85,14,59,6,"_classPrivateFieldLooseBase2"],[85,42,59,6],[85,43,59,6,"default"],[85,50,59,6],[85,56,59,10],[85,58,59,10,"_online"],[85,65,59,10],[85,67,59,10,"_online"],[85,74,59,10],[85,78,59,21,"online"],[85,84,59,27],[86,10,60,6],[86,14,60,10],[86,15,60,11,"listeners"],[86,24,60,20],[86,25,60,21,"forEach"],[86,32,60,28],[86,33,60,30,"listener"],[86,41,60,38],[86,45,60,43],[87,12,61,8,"listener"],[87,20,61,16],[87,21,61,17,"online"],[87,27,61,23],[87,28,61,24],[88,10,62,6],[88,11,62,7],[88,12,62,8],[89,8,63,4],[90,6,64,2],[91,4,64,3],[92,6,64,3,"key"],[92,9,64,3],[93,6,64,3,"value"],[93,11,64,3],[93,13,66,2],[93,22,66,2,"isOnline"],[93,30,66,10,"isOnline"],[93,31,66,10],[93,33,66,22],[94,8,67,4],[94,19,67,4,"_classPrivateFieldLooseBase2"],[94,47,67,4],[94,48,67,4,"default"],[94,55,67,4],[94,57,67,11],[94,61,67,15],[94,63,67,15,"_online"],[94,70,67,15],[94,72,67,15,"_online"],[94,79,67,15],[95,6,68,2],[96,4,68,3],[97,2,68,3],[97,4,7,35,"Subscribable"],[97,30,7,47],[98,2,71,7],[98,6,71,13,"onlineManager"],[98,19,71,26],[98,22,71,26,"exports"],[98,29,71,26],[98,30,71,26,"onlineManager"],[98,43,71,26],[98,46,71,29],[98,50,71,33,"OnlineManager"],[98,63,71,46],[98,64,71,47],[98,65,71,48],[99,0,71,48],[99,3]],"functionMap":{"names":["<global>","OnlineManager","OnlineManager#constructor","<anonymous>","onlineListener","offlineListener","OnlineManager#onSubscribe","OnlineManager#onUnsubscribe","OnlineManager#setEventListener","OnlineManager#setOnline","listeners.forEach$argument_0","OnlineManager#isOnline"],"mappings":"AAA;OCM;ECM;kBCE;+BCI,oBD;gCEC,qBF;KDa;GDC;EKE;GLI;EME;GNK;EOE;GPI;EQE;6BCK;ODE;GRE;EUE;GVE;CDC"}},"type":"js/module"}]}